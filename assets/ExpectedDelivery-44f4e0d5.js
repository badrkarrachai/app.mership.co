import{r,c as H,b as I,m as G,f as V,j as e,R as j,n as $,A as U,B as z,C as B,D as _,E as Y,F as M,h as J,l as L,e as O,y as E,G as K}from"./index-9e639871.js";import{T as X}from"./topbar-023ef40b.js";import{R as Z}from"./index.esm-ce4f286d.js";import{C as ee}from"./index.esm-2b2d4726.js";import{c as se,a as te,d as ae}from"./index.esm-aea6df59.js";import{I as re}from"./index.esm-5da8491a.js";import{c as le}from"./index.esm-a8dd76d8.js";import{c as ie}from"./index.esm-454e2aad.js";import{b as ne}from"./index.esm-464d6d75.js";import{I as oe}from"./InputPulie-644da27c.js";import{k as ce,Q as N}from"./react-toastify.esm-d448b6f6.js";import{C as de}from"./Cookies-b386fc28.js";import{o as xe}from"./Ring-80592b21.js";import"./index.esm-fa390b8e.js";function pe({ParcelName:n,ReciverName:h,Adress:d,TrackingNumber:g,Courire:w,packageFee:o,Quantity:x,idParcel:p,getnewParcels:b,toEdite:C,deletedStatus:m,UserRole:u,acceptStatus:f,SenderName:y,idUser:l,OriginalUserId:c,idReshipper:k}){const t=I(),v=H(i=>i.DataBaseAreouSure.value),[P,A]=r.useState(""),[R,D]=r.useState(""),s=async()=>{try{(await L.post(`${O.baseURL}/DeleteExpectedParcelMership123`,{idParcel:p},{withCredentials:!0})).data==="Deleted"?(b(),m(!0),t(E(!1))):m(!1)}catch{m(!1)}},a=async()=>{try{const F=function(T){const Q=T.getFullYear(),q=String(T.getMonth()+1).padStart(2,"0"),W=String(T.getDate()).padStart(2,"0");return`${Q}-${q}-${W}`}(new Date),S=await L.post(`${O.baseURL}/accept_parcel_mership2023`,{idParcel:p,currentDate:F,idUser:l,packageFee:o},{withCredentials:!0});S.data==="Done"?(b(),f(!0),t(K(!0)),t(E(!1))):(t(E(!1)),f(!1,S.data))}catch{t(E(!1)),f(!1)}};return r.useEffect(()=>{P!==""&&(v&&s(),A("")),R!==""&&(v&&a(),D(""))},[v]),e.jsx(j.Fragment,{children:e.jsxs("article",{className:"flex bg-base-1 p-7 md:flex-col md:p-6 shadow-card rounded-2xl  downtoUPAnimeWithOpacity1 DowntoUpFloat articaleHolder",children:[e.jsxs("div",{className:"flex items-center justify-between xs:flex-col xs:items-start xs:gap-2",children:[e.jsx("a",{children:e.jsx("div",{className:"h-20 w-20 shrink-0 self-center rounded-full md:mr-5 md:h-13 md:w-13 md:self-start imgsmallsize12",children:e.jsx("img",{src:"https://i.pinimg.com/originals/02/bb/8d/02bb8d688146187abdabb16d0354a1f5.png",alt:"logo",className:"h-full w-full rounded-full border border-gray-100 p-[1px] duration-200 hover:border-secondary-1/70 sdfs67ddfg"})})}),e.jsx("div",{className:"hidden md:flex",children:e.jsxs("div",{className:"flex items-center gap-x-3 jsduy23",children:[e.jsx("div",{className:"flex flex-1 h-9 px-4 gap-x-1 justify-center items-center box-border rounded-full bg-gray-50 group-hover:bg-gray-75 transition duration-300",children:e.jsx("span",{className:"text-gray-100 group-hover:text-gray-150 tp-lead2 transition duration-300",children:"Eligible"})}),e.jsx("button",{className:"flex justify-center items-center gap-2 px-4 h-12 border-2 border-gray-100 hover:bg-base-2 active:bg-base-3 transition duration-200 px-4 h-9 px-0  px-0 w-9 h-9 rounded-xl py-0"})]})})]}),e.jsxs("div",{className:"ml-10 mr-6 flex min-w-0 flex-1 flex-col lg:ml-6 md:mx-0 md:mt-4 md:px-0 iegiy8297",children:[e.jsx("a",{children:e.jsx("div",{className:"flex min-w-0",children:e.jsx("h5",{className:"ellipsis tp-h5 text-gray-800 duration-200 hover:text-secondary-1",children:n})})}),e.jsxs("div",{className:"mt-3 flex flex-col gap-y-4 xl:mt-4 xl:flex-col xl:gap-y-4",children:[e.jsxs("div",{className:"flex gap-x-6 md:flex-col md:items-start md:gap-y-3 lkjasdh34",children:[e.jsx("a",{target:"_blank",className:"group flex min-w-0 items-center justify-center gap-x-2 md:max-w-full ",children:e.jsxs("div",{className:"group flex min-w-0 items-center justify-center gap-x-2 md:max-w-full",children:[e.jsx("span",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-gray-100/30 transition duration-300 group-hover:bg-gray-75",children:e.jsx(le,{color:"#A9A9AD"})}),e.jsxs("div",{className:"flex min-w-0 flex-col",children:[e.jsx("span",{className:"tp-lead1 text-gray-300",children:l===c?"Receiver Name":e.jsx(j.Fragment,{children:u==="C"&&c!==k?"Receiver Name":"Sender Name"})}),e.jsx("span",{className:"tp-h7 ellipsis text-text-1 transition-all duration-300 hover:text-secondary-1",children:l===c?h:e.jsx(j.Fragment,{children:u==="C"&&c!==k?h:y})})]})]})}),e.jsx("a",{target:"_blank",className:"group flex min-w-0 items-center justify-center gap-x-2 md:max-w-full ",children:e.jsxs("div",{className:"group flex min-w-0 items-center justify-center gap-x-2 md:max-w-full",children:[e.jsx("span",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-gray-100/30 transition duration-300 group-hover:bg-gray-75",children:e.jsx(ie,{color:"#A9A9AD"})}),e.jsxs("div",{className:"flex min-w-0 flex-col",children:[e.jsx("span",{className:"tp-lead1 text-gray-300",children:"Address"}),e.jsx("span",{className:"tp-h7 ellipsis text-text-1 transition-all duration-300 hover:text-secondary-1",children:d})]})]})}),e.jsx("div",{target:"_blank",className:"group flex min-w-0 items-center justify-center gap-x-2 md:max-w-full "}),e.jsx("div",{target:"_blank",className:"group flex min-w-0 items-center justify-center gap-x-2 md:max-w-full ",children:e.jsx("div",{className:"group flex min-w-0 items-center justify-center gap-x-2 md:max-w-full",children:e.jsxs("div",{className:"flex min-w-0 flex-col",children:[e.jsx("span",{className:"tp-lead1 text-gray-300",children:"Tracking Number"}),e.jsx("span",{className:"tp-h7 ellipsis text-text-1 transition-all duration-300",children:g})]})})}),w&&e.jsx("div",{className:"group flex min-w-0 items-center justify-center gap-x-2 md:max-w-full",children:e.jsxs("div",{className:"flex min-w-0 flex-col",children:[e.jsx("span",{className:"tp-lead1 text-gray-300",children:"Courier"}),e.jsx("span",{className:"tp-h7 ellipsis text-text-1 transition-all duration-300",children:w})]})})]}),e.jsx("div",{className:"flex gap-x-6 xl:flex-col-reverse xl:gap-y-6 sjkfgh9483",children:e.jsxs("div",{className:"flex items-center gap-x-6 xs:flex-col xs:items-start xs:gap-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-y-1",children:[e.jsx("span",{className:"tp-lead1 text-gray-300",children:"Package Fee"}),e.jsxs("span",{className:"tp-h7 text-text-1",children:[o,"$"]})]}),e.jsxs("div",{className:"flex flex-col gap-y-1",children:[e.jsx("span",{className:"tp-lead1 text-gray-300",children:"Quantity"}),e.jsxs("span",{className:"tp-h7 text-text-1",children:[x," Package"]})]})]})})]})]}),e.jsxs("div",{className:"flex flex-col justify-between md:w-full md:gap-y-6 skljfo93",children:[e.jsx("div",{className:"md:hidden",children:e.jsxs("div",{className:"flex items-center gap-x-3",style:{display:"flex",justifyContent:"flex-end"},children:[e.jsxs("div",{className:"flex flex-1 h-9 px-4 gap-x-1 justify-center items-center box-border rounded-full group-hover:bg-gray-75 transition duration-300 bg-gray-50ADd",style:{display:"none"},children:[e.jsx(ne,{}),e.jsx("span",{className:" group-hover:text-gray-150 tp-lead2 transition duration-300",children:"Edit"})]}),e.jsx("button",{onClick:()=>{A(p),t(z("Are you sure you want to delete this parcel?")),t(B("Delete")),t(_("https://capmership.s3.eu-north-1.amazonaws.com/DeleteLogo.png")),t(Y("Red")),t(M())},className:" justify-center items-center gap-2 px-4 h-12 border-2 border-gray-100 hover:bg-base-2 active:bg-base-3 transition duration-200 px-4 h-9 px-0  px-0 w-9 h-9 rounded-xl py-0 btninvCardHover btninvCardClick",children:e.jsx(ae,{className:"deleteInvBtnFix"})})]})}),l!==c?"":e.jsxs(j.Fragment,{children:[u==="C"?e.jsx("a",{className:"button group h-12 xs:h-11 rounded-2xl xs:rounded-xl px-6 xs:px-5 py-0 button-secondary w-[9.5rem] self-end md:mt-6",type:"submit",onClick:()=>{t(J(C)),t(U()),t($("C"))},children:e.jsx("span",{className:" z-10 tp-h6 xs:tp-h7 !tp-h7 xs:!tp-lead2",children:"Edit"})}):""," "]}),l===c?"":e.jsx(j.Fragment,{children:u==="R"?e.jsx("a",{className:"button group h-12 xs:h-11 rounded-2xl xs:rounded-xl px-6 xs:px-5 py-0 button-secondary w-[9.5rem] self-end md:mt-6",type:"submit",onClick:()=>{D(p),t(z("Are you sure you want to accept this parcel?")),t(B("Accept")),t(_("https://capmership.s3.eu-north-1.amazonaws.com/AcceptPerson2.png")),t(Y("Green")),t(M())},children:e.jsx("span",{className:" z-10 tp-h6 xs:tp-h7 !tp-h7 xs:!tp-lead2",children:"Accept"})}):""})]})]})})}function me({remove:n,filterVontroller:h,newGetParcels:d}){return e.jsx("div",{className:"justforRemove",onClick:n,children:e.jsx("div",{className:"cardProfil",children:e.jsx("div",{className:"OutsideofFloating1",children:e.jsxs("div",{className:"couvertureProfil",children:[e.jsx("button",{className:"button group h-12 xs:h-11 rounded-2xl xs:rounded-xl px-4 py-0 button-text group w-full shrink-0 !justify-start !gap-x-2.5 !rounded-xl !p-3.5 transition-all duration-300 hover:bg-gray-50 hovergrayCard",type:"submit",onClick:()=>{d("ReciverName")},children:e.jsx("span",{className:" z-10 tp-h6 xs:tp-h7 tp-hnn xs:!tp-lead2 -mb-0.5 !text-text-2 !-mb-0 group-hover:!text-gray-800 transition duration-300",children:"Receiver Name"})}),e.jsx("button",{className:"button group h-12 xs:h-11 rounded-2xl xs:rounded-xl px-4 py-0 button-text group w-full shrink-0 !justify-start !gap-x-2.5 !rounded-xl !p-3.5 transition-all duration-300 hover:bg-gray-50 hovergrayCard",type:"submit",onClick:()=>{d("Address")},children:e.jsx("span",{className:" z-10 tp-h6 xs:tp-h7 tp-hnn xs:!tp-lead2 -mb-0.5 !text-text-2 !-mb-0 group-hover:!text-gray-800 transition duration-300",children:"Address"})}),e.jsx("button",{className:"button group h-12 xs:h-11 rounded-2xl xs:rounded-xl px-4 py-0 button-text group w-full shrink-0 !justify-start !gap-x-2.5 !rounded-xl !p-3.5 transition-all duration-300 hover:bg-gray-50 hovergrayCard",type:"submit",onClick:()=>{d("Price")},children:e.jsx("span",{className:" z-10 tp-h6 xs:tp-h7 tp-hnn xs:!tp-lead2 -mb-0.5 !text-text-2 !-mb-0 group-hover:!text-gray-800 transition duration-300",children:"Package Fee"})})]})})})})}function Se(){const[n,h]=r.useState([]),d=H(s=>s.UpdateExpParce.value),[g,w]=r.useState(""),[o,x]=r.useState([]),[p,b]=r.useState(!1),C=()=>{f(!u)},m=()=>{f(!1)},[u,f]=r.useState(!1),y=I(),l=async s=>{try{b(!0);const a=await L.post(`${O.baseURL}/get_allExpectedParcels`,{filter:s},{withCredentials:!0});h([]),x([]),h(a.data.parcels||[])}catch{N.error("Something went wrong!",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})}finally{b(!1)}};r.useEffect(()=>{d&&l(),y(G(!1))},[d]);const c=H(s=>s.UserRole.value),[k,t]=r.useState(""),v=new de;r.useEffect(()=>{const s=v.get("xml");s&&(t(s.Id),y(V(s.Role))),l()},[]);const P=(s,a)=>{s.forEach((i,F)=>{setTimeout(()=>{x(S=>[...S,i])},F*a)})};r.useEffect(()=>{P(n,300)},[n]),r.useEffect(()=>{if(g.split()!==""){x(n);const s=n.filter(a=>a.Name_on_Parcel.toLowerCase().includes(g.toLowerCase()));x(s||[])}else x(n)},[g]);const A=s=>{s?N.success("Parcel deleted successfully",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):N.error("Something went wrong!",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},R=(s,a)=>{s?N.success("Parcel accepted successfully",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):N.error(a,{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},D=()=>{const i=o.length;return i*240+(i-1)*6};return e.jsxs(j.Fragment,{children:[u&&e.jsx("div",{onClick:C,className:"justforRemove1",children:e.jsx("div",{className:"sortByCardHolder",children:e.jsx(me,{remove:m,newGetParcels:l})})}),e.jsx(X,{currentPage:"Expected Delivery",oldPage:""}),e.jsxs("div",{className:"DashParent1",children:[e.jsx("div",{onClick:m,className:"mb-8 flex justify-between gap-x-2 lg:flex-col lg:gap-y-3 slide-inFromRight respoinv1",children:e.jsxs("div",{className:"flex flex-1 gap-x-2",children:[e.jsx("div",{className:"relative flex-1",style:{height:"60px"},children:e.jsx(oe,{placeHolder:"Search in expected delivery using name of parcel!",valController:g,onChangeController:s=>w(s.target.value),bgColor:"#F4F4F4",svgLogo:e.jsx(Z,{size:"1.4rem",color:"#A9A9AD",style:{marginRight:"5px"}})})}),c==="C"?e.jsxs("button",{className:"animateCheckbox button group h-15 lg:h-14 xs:h-13 rounded-2xl xs:rounded-xl px-10 px2 lg:px-9 xs:px-8 py-0 button-primary",type:"submit",onClick:()=>{y($("C")),y(U())},children:[e.jsx(ee,{size:"20px"}),e.jsx("span",{className:" z-10 tp-h6 xs:tp-h7 -mb-0.5 hautFilter respoword",children:"New Parcel"})]}):""]})}),e.jsxs("div",{className:"mt-4 flex gap-y-3 lg:mt-2 lg:flex-col lg:gap-y-0 lg:py-0 slide-inFromRight resposortby",children:[e.jsxs("div",{onClick:m,className:"flex flex-1 items-center self-start py-4 lg:w-full respoline",children:[e.jsxs("span",{className:"tp-lead5 shrink-0 text-gray-300 lg:hidden",children:[o.length," Results Found!"]}),e.jsx("span",{className:"mr-4 ml-3 h-0.5 w-full gap-x-5 bg-gray-100 lg:mx-0 "})]}),e.jsxs("div",{className:"group transition-all duration-30 shrink-0 self-center css-b62m3t-container",children:[e.jsx("span",{id:"react-select-118-live-region",className:"css-7pg0cj-a11yText"}),e.jsx("span",{"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text",className:"css-7pg0cj-a11yText"}),e.jsxs("div",{onClick:C,className:"flex items-center px-6 md:!px-3 group cursor-pointer h-14 lg:h-13 xs:h-12 box-border rounded-2xl xs:rounded-[14px] border-2 border-gray-150 transition duration-300 hover:bg-gray-50 !h-13 lg:!h-12 xs:!h-11 !px-4 !rounded-xl border-none css-0 grayHover respoline",children:[e.jsx(se,{size:"18px",color:"#A9A9AD"}),e.jsx("div",{className:"text-gray-300 mx-3 justify-start items-center grid css-0",children:e.jsx("div",{className:"clear-both overflow-hidden !ml-0 !text-gray-300 whitespace-nowrap tp-lead4 xs:tp-lead5 group group-hover:!text-gray-400 transition duration-300 !tp-lead5 !tp-lead5 lg:!tp-lead1 xs:!tp-body2 css-1jqq78o-placeholder",id:"react-select-118-placeholder",children:"Sort by"})}),e.jsx("div",{className:" css-1wy0on6",children:e.jsx("div",{className:"flex items-center justify-center !p-0 css-1xc3v61-indicatorContainer","aria-hidden":"true",children:e.jsx(re,{color:"#A9A9AD"})})})]})]})]}),e.jsx("div",{className:"mt-6 flex flex-col lg:mt-4 sdc234",children:e.jsx("div",{className:"",children:e.jsxs("div",{className:"flex flex-col gap-y-6 maxwithog",style:{height:`${D()}px`},children:[p&&e.jsx("div",{style:{display:"flex",justifyContent:"center",alignContent:"center",marginTop:"50px"},children:e.jsx(xe,{size:35,lineWeight:5,speed:1.5,color:"#6499E9"})}),o.length===0&&!p?e.jsxs("div",{className:"mt-16 mb-28 flex flex-col items-center justify-center",children:[e.jsx(te,{size:"9rem",color:"#E8E8E9"}),e.jsx("span",{className:"tp-display1 mt-3",children:"List is Empty"})]}):"",o==null?void 0:o.map((s,a)=>e.jsx(pe,{OriginalUserId:k,idReshipper:s.Id_Reshipper,id:s.idOrder,idUser:s.idUser,idParcel:s.idOrder,ParcelName:s.Name_on_Parcel,ReciverName:s.ReciverName,Adress:s.ReshipperAddress,TrackingNumber:s.Tracking_Number,Courire:s.Courier,packageFee:s.Price,Quantity:s.Quantity,getnewParcels:l,toEdite:s,deletedStatus:A,UserRole:c,acceptStatus:R,SenderName:s.Sender_Name},a))]})})})]}),e.jsx(ce,{})]})}export{Se as default};

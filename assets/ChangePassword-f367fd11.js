import{r as t,a as v,j as e,R as P,k as C,l as y}from"./index-96502477.js";import{a as p}from"./index.esm-4cef466f.js";import{I as m}from"./InputPulie-bd9d42a2.js";import{T as N}from"./topbar-f3cdbc6e.js";import{k as b,Q as o}from"./react-toastify.esm-95d81724.js";import{o as k}from"./Ring-aaa7f4f7.js";import"./index.esm-9df30f5e.js";import"./index.esm-bd720542.js";import"./index.esm-ac6299fe.js";function R(){const[a,l]=t.useState(!1);function n(s){return s.length<8?"Password should be at least 8 characters long":/[A-Z]/.test(s)?/[a-z]/.test(s)?/[0-9]/.test(s)?"":"Password should contain at least one number":"Password should contain at least one non-capital letter":"Password should contain at least one capital letter"}const[r,u]=t.useState(""),[i,x]=t.useState(""),[g,c]=t.useState(""),[h,d]=t.useState(""),f=v(),w=async()=>{let s=!0;if(r!==i?(d("Passwords do not match"),s=!1):d(""),n(r)!==""?(c(n(r)),s=!1):c(""),s)try{l(!0),(await C.post(`${y}/update_user_password`,{password:r},{withCredentials:!0})).data==="Done"?(f("/"),o.success("Password changed successfully",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})):o.error("Couldn't change the password!",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})}catch{o.error("Something went wrong!",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})}finally{l(!1)}};return e.jsxs(P.Fragment,{children:[e.jsx(N,{currentPage:"Change Password",oldPage:""}),e.jsx("section",{className:"flex min-w-0 flex-1 flex-col ",children:e.jsx("div",{className:"flex flex-col flex-1 min-h-screen app-container ",children:e.jsxs("main",{className:"relative mt-32 flex flex-row items-center justify-center px-22 lg:px-16 md:mt-10 md:flex-col-reverse sm:px-8 xs:px-3 respochange firstHolderclassName1234",style:{gap:"90px"},children:[e.jsxs("div",{className:"flex flex-col justify-center lg:mr-24 md:mt-5 md:mr-0 sm:w-full SecondclassName234",children:[e.jsx("h1",{className:"tp-display3 mb-8 text-text-1 sm:hidden",children:"Change Password"}),e.jsx("span",{className:"tp-lead3 mb-10 text-gray-800",children:"Enter your password information."}),e.jsxs("div",{className:"grid gap-6 grid-cols-12",children:[e.jsx("div",{className:"flex flex-col col-span-9 col-span-full",children:e.jsx("div",{style:{height:"52px"},children:e.jsx(m,{svgLogo:e.jsx(p,{size:"20px",color:"#A9A9AD"}),placeHolder:"New Password",svgLogoBack:!0,errorP:g,autoComplateInput:"off",valController:r,onChangeController:s=>u(s.target.value)})})}),e.jsxs("div",{className:"flex flex-col col-span-9 col-span-full",children:[e.jsx("div",{style:{height:"52px"},children:e.jsx(m,{svgLogo:e.jsx(p,{size:"20px",color:"#A9A9AD"}),placeHolder:"Re-enter new password",svgLogoBack:!0,errorP:h,autoComplateInput:"off",valController:i,onChangeController:s=>x(s.target.value)})}),e.jsx("span",{className:"flex opacity-0 h-4 transition-all duration-200 -z-10 -mt-4 ml-1 text-error-standard tp-body2"})]})]}),a&&e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginTop:"1.75rem"},children:e.jsx(k,{size:35,lineWeight:5,speed:1.5,color:"#6499E9"})}),a===!1?e.jsx("button",{className:"button group h-15 lg:h-14 xs:h-13 rounded-2xl xs:rounded-xl px-10 lg:px-9 xs:px-8 py-0 button-primary mt-6",type:"submit",onClick:w,children:e.jsx("span",{className:" z-10 tp-h6 xs:tp-h7",children:"Submit"})}):""]}),e.jsx("img",{alt:"",src:"https://capmership.s3.eu-north-1.amazonaws.com/lock.png",className:"w-1/4 max-w-[19.5rem] lg:w-1/3 md:w-2/5 sm:w-3/5 hidelock"})]})})}),e.jsx(b,{})]})}export{R as default};
